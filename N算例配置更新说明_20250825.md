# N杂质算例配置更新说明

## 更新时间
2025-08-25

## 更新内容概述

根据修正后的 `N杂质算例完整路径清单.txt`，对 `predefined_case_groups_N_real.m` 进行了全面更新，确保配置文件与实际的算例路径完全对应。

## 主要变化

### 1. 算例数量调整
- **原始清单**: 117个算例（包含所有变体）
- **筛选后配置**: 61个算例（仅稳态收敛算例）

### 2. 筛选标准
- 去除了所有 `drift_off` 变体算例
- 去除了中间态和测试性算例
- 去除了重复算例（如 `_2`、`_cpdata44` 等变体）
- 保留了稳态收敛的最终算例

### 3. 分组统计

#### FAV BT 组 (normal方向) - 30个算例
- **N 0.5浓度**: 7个算例
- **N 1.0浓度**: 8个算例  
- **N 1.5浓度**: 8个算例
- **N 2.0浓度**: 7个算例

#### UNFAV BT 组 (reversed方向) - 31个算例
- **N 0.5浓度**: 8个算例
- **N 1.0浓度**: 8个算例
- **N 1.5浓度**: 7个算例
- **N 2.0浓度**: 8个算例

### 4. 路径验证
- 所有路径均基于实际的服务器目录结构
- 基础路径: `/home/task3/xrqliang/solps/SOLPS-ITER-3.0.7-20201205/runs/EAST/81574_D+N`
- 每个算例路径都经过验证，确保与修正后的清单一致

## 更新的文件

### 1. `predefined_case_groups_N_real.m`
- 完全重写了所有算例组配置
- 更新了注释和统计信息
- 确保与修正后的清单完全对应

### 2. `N杂质算例完整路径清单.txt`
- 更新了统计信息部分
- 添加了筛选说明
- 明确了配置文件的对应关系

## 使用说明

### 基本用法
```matlab
% 加载预定义组
groups = predefined_case_groups_N_real();

% 选择特定组
fav_cases = groups.fav_BT;      % 有利BT方向所有组
unfav_cases = groups.unfav_BT;  % 不利BT方向所有组
all_cases = groups.combined;    % 所有组合并

% 选择特定浓度组
n05_fav = groups.fav_BT{1};     % N 0.5 有利BT
n10_unfav = groups.unfav_BT{2}; % N 1.0 不利BT
```

### 组索引对应关系
- `groups.fav_BT{1}`: N 0.5浓度 (fav BT)
- `groups.fav_BT{2}`: N 1.0浓度 (fav BT)  
- `groups.fav_BT{3}`: N 1.5浓度 (fav BT)
- `groups.fav_BT{4}`: N 2.0浓度 (fav BT)
- `groups.unfav_BT{1}`: N 0.5浓度 (unfav BT)
- `groups.unfav_BT{2}`: N 1.0浓度 (unfav BT)
- `groups.unfav_BT{3}`: N 1.5浓度 (unfav BT)
- `groups.unfav_BT{4}`: N 2.0浓度 (unfav BT)

## 验证建议

### 1. 路径存在性检查
建议在使用前验证算例路径是否存在：
```bash
# 检查fav BT算例
ls -la "/home/task3/xrqliang/solps/SOLPS-ITER-3.0.7-20201205/runs/EAST/81574_D+N/*/baseline_na2.8e19_target1_normal*"

# 检查unfav BT算例  
ls -la "/home/task3/xrqliang/solps/SOLPS-ITER-3.0.7-20201205/runs/EAST/81574_D+N/*/baseline_na2.8e19_target1_reversed*"
```

### 2. 关键文件检查
确认每个算例包含必要的SOLPS输出文件：
```bash
find /home/task3/xrqliang/solps/SOLPS-ITER-3.0.7-20201205/runs/EAST/81574_D+N -name "b2fgmtry" | wc -l
find /home/task3/xrqliang/solps/SOLPS-ITER-3.0.7-20201205/runs/EAST/81574_D+N -name "b2fstate" | wc -l
```

## 注意事项

1. **稳态算例**: 配置中的算例均为稳态收敛算例，适合用于物理分析
2. **路径完整性**: 所有路径都是完整的绝对路径，可直接使用
3. **版本对应**: 配置基于2025-08-25的修正版清单，与实际服务器结构对应
4. **扩展性**: 如需添加新算例，请按照现有格式更新配置文件

## 后续维护

如果发现路径不存在或需要添加新算例，请：
1. 更新 `N杂质算例完整路径清单.txt`
2. 相应更新 `predefined_case_groups_N_real.m`
3. 更新统计信息和注释
4. 进行路径验证测试
